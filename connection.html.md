# Connection


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/Jeremy-Demlow/sf-feature-store/blob/main/snowflake_feature_store/connection.py#L32"
target="_blank" style="float:right; font-size:smaller">source</a>

### ConnectionConfig

>  ConnectionConfig (user:str, password:Optional[str]=None, account:str,
>                        role:str='DATA_SCIENTIST', warehouse:str='DS_WH_XS',
>                        database:Optional[str]=None, schema:Optional[str]=None,
>                        private_key_path:Optional[pathlib.Path]=None,
>                        private_key_pem:Optional[str]=None,
>                        authenticator:Optional[str]=None,
>                        query_tag:Optional[Dict[str,Any]]=None)

*Configuration for Snowflake connection*

------------------------------------------------------------------------

<a
href="https://github.com/Jeremy-Demlow/sf-feature-store/blob/main/snowflake_feature_store/connection.py#L117"
target="_blank" style="float:right; font-size:smaller">source</a>

### SnowflakeConnection

>  SnowflakeConnection (session:snowflake.snowpark.session.Session,
>                           warehouse:Optional[str]=None,
>                           database:Optional[str]=None,
>                           schema:Optional[str]=None,
>                           config:Optional[__main__.ConnectionConfig]=None)

*Manages Snowflake connection and configuration*

------------------------------------------------------------------------

<a
href="https://github.com/Jeremy-Demlow/sf-feature-store/blob/main/snowflake_feature_store/connection.py#L332"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_connection

>  get_connection (database:Optional[str]=None, schema:Optional[str]=None,
>                      warehouse:Optional[str]=None, role:Optional[str]=None,
>                      create_objects:bool=True)

\*Get Snowflake connection from active session or environment

First tries to get active session, falls back to environment variables.
Optional parameters override both active session and environment
variables.

Args: database: Optional database to use schema: Optional schema to use
warehouse: Optional warehouse to use role: Optional role to use
create_objects: Whether to create database/schema if they donâ€™t exist

Returns: SnowflakeConnection object

Raises: ConnectionError: If connection cannot be established\*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>database</td>
<td>Optional</td>
<td>None</td>
<td></td>
</tr>
<tr>
<td>schema</td>
<td>Optional</td>
<td>None</td>
<td></td>
</tr>
<tr>
<td>warehouse</td>
<td>Optional</td>
<td>None</td>
<td></td>
</tr>
<tr>
<td>role</td>
<td>Optional</td>
<td>None</td>
<td></td>
</tr>
<tr>
<td>create_objects</td>
<td>bool</td>
<td>True</td>
<td>Add parameter to control object creation</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>SnowflakeConnection</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

``` python
# Example usage
from snowflake_feature_store.connection import get_connection, ConnectionConfig

# Method 1: Get connection automatically
conn = get_connection()

# Method 2: From environment variables
conn = SnowflakeConnection.from_env()

# Method 3: From YAML config create yaml file
# config = ConnectionConfig.from_yaml('config.yaml')
# conn = SnowflakeConnection.from_config(config)

# Test connection
if conn.test_connection():
    print("Connected successfully!")
    
# Use connection
df = conn.session.table('MY_TABLE')

# Clean up
conn.close()
```

    2025-02-26 18:56:36,880 - snowflake_feature_store - INFO - No active session found, creating new connection from environment
    2025-02-26 18:56:37,393 - snowflake_feature_store - INFO - Initialized connection to "CONTAINER_DEMO_DB"."PUBLIC"
    2025-02-26 18:56:37,394 - snowflake_feature_store - INFO - Using role: "ACCOUNTADMIN", warehouse: "CONTAINER_DEMO_WH", database: "CONTAINER_DEMO_DB", schema: "PUBLIC"
    2025-02-26 18:56:37,970 - snowflake_feature_store - INFO - Initialized connection to "CONTAINER_DEMO_DB"."PUBLIC"
    2025-02-26 18:56:38,140 - snowflake_feature_store - INFO - Connection test successful
    Connected successfully!
    2025-02-26 18:56:38,624 - snowflake_feature_store - INFO - Main session closed successfully
