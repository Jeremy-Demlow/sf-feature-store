# Example Module


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/Jeremy-Demlow/sf-feature-store/blob/main/snowflake_feature_store/examples.py#L35"
target="_blank" style="float:right; font-size:smaller">source</a>

### generate_demo_data

>  generate_demo_data (session:snowflake.snowpark.session.Session,
>                          schema:str, num_customers:int=1000,
>                          ltv_multiplier:float=1.0,
>                          session_length_multiplier:float=1.0,
>                          start_date:Optional[datetime.datetime]=None,
>                          num_days:int=30, table_type:str='')

\*Generate synthetic customer data for demonstration

Args: session: Snowflake session schema: Schema to create tables in
num_customers: Number of customers to generate ltv_multiplier:
Multiplier for lifetime value session_length_multiplier: Multiplier for
session length start_date: Start date for data (default: 30 days ago)
num_days: Number of days of data to generate\*

------------------------------------------------------------------------

<a
href="https://github.com/Jeremy-Demlow/sf-feature-store/blob/main/snowflake_feature_store/examples.py#L124"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_example_data

>  get_example_data (session:snowflake.snowpark.session.Session, schema:str,
>                        num_customers:int=100, ltv_multiplier:float=1.0,
>                        session_length_multiplier:float=1.0,
>                        start_date:Optional[datetime.datetime]=None,
>                        num_days:int=30, table_type:str='')

\*Load or generate example customer data

Args: session: Active Snowflake session schema: Schema where tables are
located num_customers: Number of customers if generating new data

Returns: DataFrame with customer activity data\*

------------------------------------------------------------------------

<a
href="https://github.com/Jeremy-Demlow/sf-feature-store/blob/main/snowflake_feature_store/examples.py#L179"
target="_blank" style="float:right; font-size:smaller">source</a>

### create_feature_configs

>  create_feature_configs ()

*Create example feature configurations*

------------------------------------------------------------------------

<a
href="https://github.com/Jeremy-Demlow/sf-feature-store/blob/main/snowflake_feature_store/examples.py#L245"
target="_blank" style="float:right; font-size:smaller">source</a>

### run_end_to_end_example

>  run_end_to_end_example (metrics_path:Optional[str]=None,
>                              num_customers:int=100)

\*Run end-to-end feature store example

Args: metrics_path: Optional path to save metrics num_customers: Number
of customers to generate\*

``` python
from snowflake_feature_store.examples import run_end_to_end_example
import tempfile
from pathlib import Path

# Create temporary directory for metrics
metrics_dir = Path(tempfile.mkdtemp()) / "feature_store_metrics"

# Run example
run_end_to_end_example(
    metrics_path=str(metrics_dir),
    num_customers=100
)
```

    2025-02-17 20:47:42,962 - snowflake_feature_store - INFO - No active session found, creating new connection from environment
    2025-02-17 20:47:43,696 - snowflake_feature_store - INFO - Initialized connection to "DATASCIENCE"."FEATURE_STORE_DEMO"
    2025-02-17 20:47:46,024 - snowflake_feature_store - INFO - FeatureStoreManager initialized
    2025-02-17 20:47:49,023 - snowflake_feature_store - INFO - Generated 2400 rows of demo data in "DATASCIENCE".FEATURE_STORE_20250218_044743_b7ff82cd.CUSTOMER_ACTIVITY
    2025-02-17 20:47:49,025 - snowflake_feature_store - INFO - 
    Sample Data:
    ---------------------------------------------------------------------------------------------------------------------------------
    |"CUSTOMER_ID"  |"DATE"      |"LIFE_TIME_VALUE"   |"SESSION_LENGTH"   |"TIME_ON_APP"      |"TIME_ON_WEBSITE"   |"TRANSACTIONS"  |
    ---------------------------------------------------------------------------------------------------------------------------------
    |C8             |2025-01-18  |538.086304232647    |9.293443367138973  |8.435992889854191  |10.464463447436238  |5               |
    |C23            |2025-02-16  |360.85532792500635  |NULL               |8.160214513528983  |6.733980655675666   |3               |
    |C34            |2025-02-16  |361.59091693705415  |NULL               |10.04069304006288  |9.42791752502259    |3               |
    |C76            |2025-02-16  |46.97853516274013   |NULL               |3.782038923769274  |3.7123425091379185  |1               |
    |C0             |2025-02-16  |398.1945730552295   |NULL               |9.26915277397465   |8.431093341017991   |3               |
    ---------------------------------------------------------------------------------------------------------------------------------

    2025-02-17 20:47:49,585 - snowflake_feature_store - INFO - 
    Schema:
    2025-02-17 20:47:49,881 - snowflake_feature_store - INFO - CUSTOMER_ID: StringType()
    2025-02-17 20:47:49,882 - snowflake_feature_store - INFO - DATE: DateType()
    2025-02-17 20:47:49,882 - snowflake_feature_store - INFO - LIFE_TIME_VALUE: DoubleType()
    2025-02-17 20:47:49,882 - snowflake_feature_store - INFO - SESSION_LENGTH: DoubleType()
    2025-02-17 20:47:49,883 - snowflake_feature_store - INFO - TIME_ON_APP: DoubleType()
    2025-02-17 20:47:49,883 - snowflake_feature_store - INFO - TIME_ON_WEBSITE: DoubleType()
    2025-02-17 20:47:49,883 - snowflake_feature_store - INFO - TRANSACTIONS: LongType()
    2025-02-17 20:47:51,477 - snowflake_feature_store - INFO - Created entity: CUSTOMER with keys: ['CUSTOMER_ID']
    2025-02-17 20:47:56,646 - snowflake_feature_store - INFO - Validated feature LIFE_TIME_VALUE (stats: {'timestamp': '2025-02-18T04:47:55.431732', 'row_count': 2400, 'null_count': 0, 'null_ratio': 0.0, 'unique_count': 2400, 'min_value': 1.0103904399909094, 'max_value': 749.1914533514039, 'mean_value': 370.8857998161906, 'std_value': 216.29399706133577})
    2025-02-17 20:47:58,584 - snowflake_feature_store - INFO - Validated feature SESSION_LENGTH (stats: {'timestamp': '2025-02-18T04:47:57.098022', 'row_count': 2400, 'null_count': 0, 'null_ratio': 0.0, 'unique_count': 1922, 'min_value': 0.0, 'max_value': 12.375177047794647, 'mean_value': 4.924054819640092, 'std_value': 3.3871291643468586})
    2025-02-17 20:48:00,098 - snowflake_feature_store - INFO - Validated feature TRANSACTIONS (stats: {'timestamp': '2025-02-18T04:47:59.060760', 'row_count': 2400, 'null_count': 0, 'null_ratio': 0.0, 'unique_count': 7, 'min_value': 1.0, 'max_value': 7.0, 'mean_value': 3.364167, 'std_value': 1.9934989340353308})
    2025-02-17 20:48:01,613 - snowflake_feature_store - INFO - Validated feature AVG_SESSION_LENGTH_7 (stats: {'timestamp': '2025-02-18T04:48:00.529359', 'row_count': 2400, 'null_count': 0, 'null_ratio': 0.0, 'unique_count': 2307, 'min_value': 0.0, 'max_value': 11.6070937122751, 'mean_value': 4.916869536323822, 'std_value': 1.5555037318685312})
    2025-02-17 20:48:03,081 - snowflake_feature_store - INFO - Validated feature SUM_TRANSACTIONS_7 (stats: {'timestamp': '2025-02-18T04:48:01.994533', 'row_count': 2400, 'null_count': 0, 'null_ratio': 0.0, 'unique_count': 41, 'min_value': 1.0, 'max_value': 43.0, 'mean_value': 20.574166666666667, 'std_value': 7.77944187289988})
    2025-02-17 20:48:16,885 - snowflake_feature_store - INFO - Created feature view: customer_behavior with 11 features
    2025-02-17 20:48:16,890 - snowflake_feature_store - INFO - 
    Feature Statistics:
    2025-02-17 20:48:16,890 - snowflake_feature_store - INFO - 
    LIFE_TIME_VALUE:
    2025-02-17 20:48:16,891 - snowflake_feature_store - INFO - Timestamp: 2025-02-18T04:48:08.878860
    Row count: 2400
    Null count: 0 (0.0%)
    Unique values: 2400
    Min value: 1.01
    Max value: 749.19
    Mean value: 370.89
    Std dev: 216.29
    2025-02-17 20:48:16,892 - snowflake_feature_store - INFO - 
    SESSION_LENGTH:
    2025-02-17 20:48:16,892 - snowflake_feature_store - INFO - Timestamp: 2025-02-18T04:48:10.403487
    Row count: 2400
    Null count: 0 (0.0%)
    Unique values: 1922
    Min value: 0.00
    Max value: 12.38
    Mean value: 4.92
    Std dev: 3.39
    2025-02-17 20:48:16,892 - snowflake_feature_store - INFO - 
    TRANSACTIONS:
    2025-02-17 20:48:16,893 - snowflake_feature_store - INFO - Timestamp: 2025-02-18T04:48:11.836755
    Row count: 2400
    Null count: 0 (0.0%)
    Unique values: 7
    Min value: 1.00
    Max value: 7.00
    Mean value: 3.36
    Std dev: 1.99
    2025-02-17 20:48:16,893 - snowflake_feature_store - INFO - 
    AVG_SESSION_LENGTH_7:
    2025-02-17 20:48:16,894 - snowflake_feature_store - INFO - Timestamp: 2025-02-18T04:48:13.383972
    Row count: 2400
    Null count: 0 (0.0%)
    Unique values: 2307
    Min value: 0.00
    Max value: 11.61
    Mean value: 4.92
    Std dev: 1.56
    2025-02-17 20:48:16,894 - snowflake_feature_store - INFO - 
    SUM_TRANSACTIONS_7:
    2025-02-17 20:48:16,894 - snowflake_feature_store - INFO - Timestamp: 2025-02-18T04:48:15.859696
    Row count: 2400
    Null count: 0 (0.0%)
    Unique values: 41
    Min value: 1.00
    Max value: 43.00
    Mean value: 20.57
    Std dev: 7.78
    2025-02-17 20:48:17,050 - snowflake_feature_store - INFO - Spine DataFrame columns: ['CUSTOMER_ID', 'DATE']
    2025-02-17 20:48:17,051 - snowflake_feature_store - INFO - Spine DataFrame schema: StructType([StructField('CUSTOMER_ID', StringType(), nullable=True), StructField('DATE', DateType(), nullable=True)])
    2025-02-17 20:48:19,157 - snowflake_feature_store - INFO - Generating dataset with name: DATASET_20250218_044819_3c2eda3b
    2025-02-17 20:48:19,158 - snowflake_feature_store - INFO - Label columns: ['"LIFE_TIME_VALUE"']
    2025-02-17 20:48:19,158 - snowflake_feature_store - INFO - Timestamp column: "DATE"
    2025-02-17 20:48:23,181 - snowflake_feature_store - INFO - 
    Training Data Sample:
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    |"CUSTOMER_ID"  |"DATE"      |"LIFE_TIME_VALUE"   |"SESSION_LENGTH"    |"TIME_ON_APP"       |"TIME_ON_WEBSITE"  |"TRANSACTIONS"  |"AVG_SESSION_LENGTH_7"  |"SUM_SESSION_LENGTH_7"  |"AVG_TRANSACTIONS_7"  |"SUM_TRANSACTIONS_7"  |
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    |C30            |2025-01-18  |297.583740234375    |0.0                 |6.600606441497803   |8.969278335571289  |2               |0.0                     |0.0                     |2.0                   |2.0                   |
    |C30            |2025-01-19  |47.4866828918457    |2.21079158782959    |2.3981170654296875  |5.841498851776123  |1               |1.105395793914795       |2.21079158782959        |1.5                   |3.0                   |
    |C30            |2025-01-20  |133.73348999023438  |1.8510329723358154  |2.423548698425293   |7.492861270904541  |1               |1.353941559791565       |4.061824798583984       |1.3329999446868896    |4.0                   |
    |C30            |2025-01-21  |55.70567321777344   |1.9283854961395264  |4.55950927734375    |6.430238246917725  |1               |1.497552514076233       |5.990210056304932       |1.25                  |5.0                   |
    |C30            |2025-01-23  |129.9962615966797   |3.824254035949707   |7.2560319900512695  |8.202532768249512  |1               |1.9628928899765015      |9.814464569091797       |1.2000000476837158    |6.0                   |
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    2025-02-17 20:48:24,515 - snowflake_feature_store - INFO - Dependencies for customer_behavior: {'customer_behavior'}
    2025-02-17 20:48:24,516 - snowflake_feature_store - INFO - 
    Feature Dependencies: {'customer_behavior'}
    2025-02-17 20:48:24,754 - snowflake_feature_store - INFO - Cleaned up schema FEATURE_STORE_20250218_044743_b7ff82cd
